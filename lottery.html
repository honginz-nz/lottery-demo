<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>订单抽奖大转盘</title>

  <!-- 引入样式 -->
  <link rel="stylesheet" href="style.css" />

  <!-- 引入 Vue （2.x） -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js"></script>
</head>
<body>
  <div id="app" class="container">
    <section class="turntable">
      <div class="list">
        <ul :style="{ transform: `rotate(${currentRotation}deg)` }">
          <li
            v-for="(prize, index) in prizeList"
            :key="index"
            :style="{ transform: 'rotate(' + index * (360 / prizeList.length) + 'deg)' }"
          >
            <img :src="prize.img" :alt="prize.name" />
            <!-- 关键：用 v-html 渲染 <br/> 换行 -->
            <div class="prize-name" v-html="prize.name"></div>
          </li>
        </ul>
      </div>

      <!-- 中心按钮 -->
      <button
        type="button"
        class="turntable_btn"
        @click="startDraw"
        :disabled="isSpinning"
      >GO</button>

      <!-- 指针 -->
      <svg viewBox="-50 -50 100 100">
        <g class="bottom">
          <ellipse cx="0" cy="40" rx="30" ry="4" />
        </g>
        <g class="polyline" :style="{ transform: `rotate(${currentRotation}deg)` }">
          <polyline points="-16,-38 16,-38 0,0" />
          <polyline points="16,-38 38,-16 0,0" />
          <polyline points="38,-16 38,16 0,0" />
          <polyline points="0,0 38,16 16,38" />
          <polyline points="0,0 16,38 -16,38" />
          <polyline points="0,0 -16,38 -38,16" />
          <polyline points="-38,-16 -38,16 0,0" />
          <polyline points="-16,-38 -38,-16 0,0" />
        </g>
        <circle cx="0" cy="0" r="40" />
        <g
          class="circle"
          :style="{
            transform: 'rotate(' + currentRotation + 'deg)',
            transition: isSpinning
              ? 'transform 4.5s cubic-bezier(0.25, 0.1, 0.25, 1)'
              : 'none'
          }"
        >
          <circle cx="0" cy="-40" r="0.8" />
          <circle cx="15.6" cy="-36.8" r="0.8" />
          <circle cx="28.5" cy="-28" r="0.8" />
          <circle cx="36.8" cy="-15.6" r="0.8" />
          <circle cx="40" cy="0" r="0.8" />
          <circle cx="36.8" cy="15.6" r="0.8" />
          <circle cx="28.5" cy="28" r="0.8" />
          <circle cx="15.6" cy="36.8" r="0.8" />
          <circle cx="0" cy="40" r="0.8" />
          <circle cx="-36.8" cy="15.6" r="0.8" />
          <circle cx="-28.5" cy="28" r="0.8" />
          <circle cx="-15.6" cy="36.8" r="0.8" />
          <circle cx="-40" cy="0" r="0.8" />
          <circle cx="-36.8" cy="-15.6" r="0.8" />
          <circle cx="-28.5" cy="-28" r="0.8" />
          <circle cx="-15.6" cy="-36.8" r="0.8" />
        </g>
        <g class="mark">
          <circle cx="0" cy="-43" r="4" />
          <polyline points="-3.5,-41 3.5,-41 0,-35" />
          <circle class="round" cx="0" cy="-43" r="1.5" />
        </g>
      </svg>
    </section>
  </div>

  <!-- 业务逻辑：加载 orders.json，抽奖计算 -->
  <script src="app.js"></script>
</body>
</html>
